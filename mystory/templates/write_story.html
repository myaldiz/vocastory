{% extends 'base.html' %}

{% block title %}Write Story{% endblock %}

{% block content %}
    <h2>
        Writer's Mode
    </h2>

    <p>
        Story id: {{ story.id }} <br>
        {% if story.get_last_selected_index == -1 %}
            You will write the first sentence of the story,
            have a creative start!
        {% elif story.get_last_selected_index == 0 %}
            Here is the first sentence of the story, continue
            from where it left!
        {% elif story.get_unused_word_list|length == 1 %}
            You will write the last sentence of the story.
            Use the last unused word, have a creative finish!
            Here is the last two sentence written:
        {% else %}
            Here is the last two sentence written:
        {% endif %} <br>
    </p>

    <p>
        {{ story.get_stylized_last_two|safe }}
    </p>

    <p>
    <form method="post">
        {% csrf_token %}
        {{ input_form }}
        <input type="Submit" value="Submit">
        <input type="hidden" name="order" value="{{ story.get_candidate_index }}">
    </form>
    </p>

    <p>
    Here is the word list:
    <ul>
        {% for word in story.get_unused_word_list %}
            <li>
                <p class="card-text">
                    <a href="{{ word.get_absolute_url }}">
                        {{ word.text }}
                    </a>
                </p>
            </li>
        {% endfor %}

        {% for word in story.get_used_word_list %}
            <li>
                <p class="card-text">
                    <a href="{{ word.get_absolute_url }}">
                        <strike> {{ word.text }} </strike>
                    </a>
                </p>
            </li>
        {% endfor %}
    </ul>

    </p>

{% endblock %}